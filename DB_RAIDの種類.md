# RAIDの説明

### ストライプ単位のイメージ

* **ストライピング**とは、複数のディスクにデータを分割して順番に書き込む方式。
* **単位**によって書き込む粒度が変わる：

  * **ビット単位（RAID2）**：1ビットずつ複数ディスクに分散

    ```
    データ: 1010
    ディスクA: 1 0
    ディスクB: 0 1
    ```

    → 細かすぎて制御が複雑。

  * **バイト単位（RAID3）**：1バイトずつ複数ディスクに分散

    ```
    データ: 10101011
    ディスクA: 1010
    ディスクB: 1011
    ```

    → 読み込み高速だが、書き込みはパリティ計算で重くなる。

  * **ブロック単位（RAID0,4,5）**：1ブロック（数KB～数MB）ずつ分散

    ```
    データ: [ブロック1][ブロック2][ブロック3][ブロック4]
    ディスクA: [ブロック1][ブロック3]
    ディスクB: [ブロック2][ブロック4]
    ```

    → 一般的に使われる方式。書き込み・読み込みの効率が良い。

**ポイント**：単位が大きいほど管理が簡単で高速、小さいほど制御が複雑で性能低下しやすい。

---

１　全体像（テキスト図）

```
RAID（複数HDD/SSDを仮想的に1台として扱う）
├─ RAID0（ストライピング：ブロック単位）     ：速度向上（信頼性×）
├─ RAID1（ミラーリング：全体単位）           ：信頼性向上（容量50%）
├─ RAID2（ストライピング：ビット単位＋ハミング符号） ：古典方式、ほぼ未使用
├─ RAID3（ストライピング：バイト単位＋専用パリティ） ：読み速↑、書込重い
├─ RAID4（ストライピング：ブロック単位＋専用パリティ） ：RAID3改良
└─ RAID5（ストライピング：ブロック単位＋分散パリティ） ：速度・信頼性バランス良
```

---

１－１　定義（IPA準拠）と用語の由来

* **RAID**：Redundant Arrays of Inexpensive Disksの略。「安価な複数ディスクを組み合わせて信頼性・性能向上を図る技術」という意味。
* **ストライピング**：データを複数ディスクに分割して並列に書き込む方式。
* **単位**：書き込む粒度のこと。ビット/バイト/ブロック単位がある。
* **ミラーリング**：同一データを複数ディスクに複製。
* **パリティ**：誤り検出・訂正用の付加情報。

---

１－２　技術の必要性（解決する具体的課題）

単体ディスクは故障すると全データ消失のリスクが高い。

単体ディスクの性能には限界がある。

→ RAIDで複数ディスクを組み合わせることで
① 信頼性（冗長化）向上
② アクセス性能向上

---

１－３　試験の着眼点

* **RAIDレベルの特徴**

  * RAID0：速度UPのみ、冗長化なし。
  * RAID1：容量半分、信頼性高。
  * RAID5：性能・信頼性バランス。

* **ストライプ単位の違い**（ビット／バイト／ブロック）。
* RAID2～4は古典方式で理解確認程度。

---

１－４　体系マップ（比較表）

| RAIDレベル | ストライプ単位 | 冗長化方法  | 容量効率 | 性能特性              |
| ------- | ------- | ------ | ---- | ----------------- |
| RAID0   | ブロック    | なし     | 100% | 読書速↑, 書込速↑, 故障×   |
| RAID1   | 全体      | ミラー    | 50%  | 読書速↑, 書込同等, 故障耐性◎ |
| RAID2   | ビット     | ハミング符号 | 低    | ほぼ使用されない          |
| RAID3   | バイト     | 専用パリティ | 中    | 読速↑, 書込重い         |
| RAID4   | ブロック    | 専用パリティ | 中    | RAID3改良、書込改善      |
| RAID5   | ブロック    | 分散パリティ | 高    | 読速↑, 書速↑, 故障耐性◎   |

---

１－５　代表例

* **正答例**：RAID0はブロック単位でストライピングし、速度を向上。
* **誤答例**：RAID0はパリティで信頼性を確保する（×）。

---

１－６　よくある誤解

* RAID0でも故障耐性がある → ×。
* RAID5は容量効率が悪い → △（パリティ分のみ減少）。
* RAID1は容量半分だが信頼性高 → ○。

---

１－７　一問一答（5問）

① **問題**：RAID0のストライプ単位は？
**回答**：ブロック単位。
**解説**：一般的なRAID0はブロック単位で複数ディスクに分散。

① **問題**RAID1のストライプ単位は？
**回答**：全体（ミラーリング単位）。
**解説**：RAID1はデータを複製して冗長性を提供するため、ストライプ単位はミラーリング単位となる。

② **問題**：RAID1の記憶効率は？
**回答**：50%。
**解説**：全データをミラーリングするため。

③ **問題**：RAID3のストライプ単位は？
**回答**：バイト単位。
**解説**：高速読み込み可能だが、書き込みは専用パリティ計算で重くなる。

④ **問題**：RAID5のパリティ配置は？
**回答**：ディスク全体に分散。
**解説**：専用ディスクではなく分散することで書込性能向上。

⑤ **問題**：RAID2がほぼ使われない理由は？
**回答**：ハミング符号で制御が複雑、コスト効率悪い。

---

１－８　要約

* ストライピングはデータを分割して複数ディスクに書き込む手法。
* RAID0：速度、RAID1：信頼性、RAID5：速度・信頼性バランス。
* RAID2～4は古典方式で学習確認程度。

---



