***

# IPsec, RADIUS, SSH, HTTPSの体系的解説

ネットワークセキュリティにおいて、「認証」と「暗号化」は中心的な役割を担いますが、その実現方法は多岐にわたります。ここでは、IPsec, RADIUS, SSH, HTTPSという4つの主要な技術について、それぞれの役割、動作するOSI参照モデルの層、具体的な利用シーンを明確に区別し、体系的に解説します。

## 1. 各技術の概要と役割

まず、それぞれの技術が「何をするためのものか」を定義と目的から理解します。

### 1.1. IPsec (Internet Protocol Security)
-   **概要**: IPパケット単位で暗号化や認証を行うプロトコルの集合体です。OSI参照モデルの**ネットワーク層**で動作します。
-   **目的**: IPパケットの盗聴・改ざんを防ぎ、安全な通信路を確保します。主にVPN（Virtual Private Network）の構築に用いられます。
-   **名前の由来**: 「**IP** (Internet Protocol)」を「**Sec**urity（安全）」にすることから名付けられました。

### 1.2. RADIUS (Remote Authentication Dial In User Service)
-   **概要**: ネットワークに接続しようとするユーザーの認証・認可・課金（AAA: Authentication, Authorization, Accounting）を一元管理するためのプロトコルです。OSI参照モデルの**アプリケーション層**で動作します。
-   **目的**: 多数のユーザーアカウント情報を認証サーバ(RADIUSサーバ)として、一元管理し、不正利用や管理の煩雑化を防ぎます。RADIUS自体は通信を暗号化する機能を持たず、認証に特化しています。RADIUSサーバは、ユーザーアカウント情報（ID、パスワード、接続許可条件など）を一元管理している。**RADIUS**はプロトコル（通信規格）の名前ですが、その実体は**RADIUSサーバ**という形でシステムに導入されます。**RADIUSサーバ**は、社内ネットワークの「関所」のような存在で、接続しようとするユーザーが正当な人物かどうかを集中管理して判断します。無線APやスイッチは、その判断をRADIUSサーバに問い合わせるクライアントとして機能します。
 * 無線AP（アクセスポイント）
 * スイッチ
  - `L2`スイッチ：`MACアドレス`で通信を制御。`社内LAN`の基本構成に使われる。
  - `L3`スイッチ：`IP`アドレスで通信を制御。ルーティング機能を持ち、異なるネットワーク間の通信も可能。
-   **名前の由来**: ダイヤルアップ接続が主流だった時代に、遠隔地（**Remote**）からの接続ユーザー（**User**）を認証（**Authentication**）するサービス（**Service**）として生まれた歴史的背景から命名されました。

### 1.3. SSH (Secure Shell)
-   **概要**: ネットワークを介して別のコンピュータにログインし、遠隔操作を行うための暗号化されたプロトコルです。平文で通信するtelnetやftpの安全な代替として利用されます。OSI参照モデルの**アプリケーション層**で動作します。
-   **目的**: リモートログインやファイル転送時の通信内容が盗聴されるリスクを排除し、安全なサーバ管理を実現します。
-   **名前の由来**: 遠隔でのシェル（**Shell**）操作を安全（**Secure**）に行うことから名付けられました。

### 1.4. HTTPS (Hypertext Transfer Protocol Secure)
-   **概要**: WebブラウザとWebサーバ間の通信（HTTP）を、TLS/SSLプロトコルを用いて暗号化する仕組みです。OSI参照モデルの**アプリケーション層**で動作します。
-   **目的**: Webサイトで入力されるID/パスワードやクレジットカード情報といった機密情報が、第三者に盗聴・改ざんされることを防ぎます。
-   **名前の由来**: 「**HTTP**」に「**S**ecure（安全）」を加えたものです。

---

## 2. 機能と役割の比較

これらの技術は、それぞれ異なる層で異なる役割を担っています。以下の比較表でその違いを明確にします。

### 2.1. 総合比較表

| 技術 | OSI参照モデル層 | 主な役割 | 主な用途 | 認証機能 | 通信の暗号化 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **IPsec** | **ネットワーク層** | 通信経路全体の保護 | 拠点間VPN、リモートアクセスVPN | ○ (通信相手の認証) | ○ |
| **RADIUS** | **アプリケーション層** | ユーザー認証の一元管理 | 企業LAN/Wi-Fi接続認証、VPNユーザー認証 | ○ (認証専用) | × |
| **SSH** | **アプリケーション層** | 安全なリモート操作 | サーバのリモート管理、安全なファイル転送 (SCP/SFTP) | ○ (公開鍵/パスワード) | ○ |
| **HTTPS** | **アプリケーション層** | Web通信の保護 | ECサイト、Webサービスでのログイン、個人情報入力 | ○ (サーバ証明書、クライアント証明書) | ○ |

### 2.2. 機能別マトリクス

各技術がどのような機能を提供するかをマトリクスで整理します。

| 技術 | ログイン認証 | 通信の暗号化 | リモート操作 | Web通信 |
| :--- | :---: | :---: | :---: | :---: |
| **IPsec** | ✕ ¹ | **○** | ✕ | ✕ |
| **RADIUS** | **○** | ✕ | ✕ | ✕ |
| **SSH** | **○** | **○** | **○** | ✕ |
| **HTTPS** | **○** ² | **○** | ✕ | **○** |

¹ *IPsecは通信相手の機器を認証しますが、ユーザー個人のログイン認証が主目的ではありません。*
² *HTTPSはサーバの正当性を証明書で認証し、必要に応じてクライアント（ユーザー）認証も行います。*

---

## 3. 目的別・利用シーン別の選択ガイド

「何をしたいのか」という目的別に、どの技術を選択すべきかを解説します。

#### **シナリオ1: 複数の拠点（本社と支社など）間の通信を丸ごと安全にしたい**
-   **選択すべき技術**: **IPsec**
-   **理由**: ネットワーク層で動作するため、アプリケーションの種類に関わらず、拠点間を流れるすべてのIPパケットを暗号化し、安全な仮想的な専用線（VPNトンネル）を構築できます。

#### **シナリオ2: 社員が社内の無線LANや有線LANに接続する際の本人確認を効率的に行いたい**
-   **選択すべき技術**: **RADIUS**
-   **理由**: 各ネットワーク機器（無線APやスイッチ）が認証情報を持つ必要がなく、RADIUSサーバに問い合わせることでユーザー認証を一元管理できます。これにより、管理コストの削減とセキュリティの向上が実現します。（詳細後述）

#### **シナリオ3: 遠隔地にあるサーバにコマンドを送信して、安全に管理・操作したい**
-   **選択すべき技術**: **SSH**
-   **理由**: ログイン認証からその後のすべての通信が暗号化されるため、ID/パスワードや操作内容が盗聴される心配がありません。サーバ管理者の必須ツールです。

#### **シナリオ4: ECサイトで、お客様が入力する個人情報やクレジットカード情報を保護したい**
-   **選択すべき技術**: **HTTPS**
-   **理由**: WebブラウザとWebサーバ間の通信を暗号化することで、第三者による情報の盗聴や改ざんを防ぎます。ECサイトやログインページでは必須の技術です。
---

## 4. よくある誤解と注意点

これらの技術は機能が似ている部分もあるため、混同されがちです。特に注意すべき点をまとめます。

-   **誤解**: 「RADIUSはVPNを暗号化する技術だ」
    -   **正**: RADIUSは**認証**を管理するプロトコルであり、通信の**暗号化は行いません**。VPNにおいて、接続しようとするユーザーが正当かどうかを判断するために**RADIUS**が使われ、通信路の暗号化は**IPsec**などが担います。

-   **誤解**: 「HTTPSとSSHはどちらもログイン用の暗号化技術だ」
    -   **正**: 用途が全く異なります。HTTPSは**Webブラウザを通じた通信**を保護するもので、SSHは**サーバを遠隔でコマンド操作（シェル操作）**するためのものです。リモートログインにHTTPSは使えません。

-   **誤解**: 「IPsecとHTTPSは同じような暗号化技術なので、同じ層で動く」
    -   **正**: 動作する層が異なります。IPsecは**ネットワーク層**で動作し、その上層のプロトコル（TCP, UDPなど）を意識せず通信全体を保護します。一方、HTTPSは**アプリケーション層**で動作し、HTTPという特定のアプリケーションの通信を保護します。

-   **誤解**: 「Web通信の暗号化にIPsecを使う」
    -   **正**: 理論上は可能ですが、不適切です。Web通信という特定のアプリケーションを保護する目的であれば、アプリケーション層で完結する**HTTPS**を用いるのが一般的で効率的です。
---

## 5. 補足解説

### 5.1. なぜ社内LAN認証にRADIUSが使われるのか？

社内LANに接続する際、各スイッチや無線APが個別にユーザー名とパスワードのリストを持っていた場合、以下の問題が発生します。
-   退職者のアカウント削除漏れ
-   パスワード更新の管理が煩雑
-   部署移動などによるアクセス権限の変更が困難

**RADIUSサーバ**を導入することで、すべての認証情報を一元的に管理できます。
1.  社員がLANやWi-Fiに接続を試みます。
2.  スイッチや無線APは、ユーザー情報を**RADIUSサーバ**に問い合わせます。
3.  **RADIUSサーバ**がIDとパスワードを検証し、正しければ接続を許可し、不正であれば拒否します。

このように、各ネットワーク機器は認証判断を**RADIUSサーバ**に「丸投げ」することで、管理者は**RADIUSサーバ**の情報だけをメンテナンスすればよくなり、安全で効率的な認証基盤を構築できます。

### 5.2. 「通信の暗号化」と「Web通信」の違い

この2つの言葉は、しばしば混同されますが、役割の階層が異なります。

-   **通信の暗号化 (How: 方法)**
    ネットワークを流れるデータが「盗聴・改ざん」されないように、データを秘匿化する**技術的な手段**を指します。IPsec, SSH, TLS(HTTPSで利用)などがこれに該当します。

-   **Web通信 (What: 対象)**
    WebブラウザとWebサーバの間で、Webページなどをやり取りするための**特定のアプリケーション通信**を指します。この通信には、暗号化されていない**HTTP**と、暗号化されている**HTTPS**の2種類があります。

**関係性**: 「Web通信」という**対象**を安全に行うために、「通信の暗号化」という**方法**を用いる。その具体的な実装が**HTTPS**である、と理解すると分かりやすいです。