
---

## デマンドページング方式（最高傑作解説）
---
## １　全体像（テキスト図）
```
仮想記憶
 └─ ページング
      ├─ ページ置換方式（LRU / FIFO ...）
      └─ ページ読込方式
           ├─ デマンドページング
           │     └─ 必要なときのみロード
           └─ プリページング
                 └─ 事前にまとめてロード
```

## １－１　定義（IPA準拠）と用語の由来

* **デマンドページング方式**

  * 定義：ページにアクセス要求があったとき、そのページのみを主記憶に読み込む方式。
  * 由来：英語 *demand（要求）* ＋ *paging（ページ単位で読み込む）*。

---

## １－２　技術の必要性

* 課題：プログラム全体を最初からロードすると

  * 主記憶を大量に消費
  * 起動が遅くなる
* 解決：実際に使うページだけロードすることで

  * 無駄なロードを避け
  * 主記憶を効率利用

---

## １－３　試験の着眼点

* 出題者が狙う誤解は以下：

  1. **プリページングと混同**

     * 「前もってロードして遅延を避ける」→ プリページングの特徴
  2. **スラッシングを避けられると錯覚**

     * 実際はページフォールト多発でスラッシング発生
  3. **容量比とフォールト頻度の誤解**

     * 仮想記憶を大きくするとページフォールトが減ると思いがち → 実際は増える

---

## １－４　体系マップ（比較表）

| 方式        | ロードタイミング   | 利点              | 欠点              |
| --------- | ---------- | --------------- | --------------- |
| デマンドページング | 実際にアクセス時   | 主記憶の無駄がない／起動が速い | 初回アクセスで必ずフォールト  |
| プリページング   | アクセス前にまとめて | 遅延を減らせる         | 無駄なページを読む／主記憶圧迫 |

---

## １－５　代表例（正答例・誤答例）

* **正答例**
  「実際にアクセスが行われたときにだけ主記憶にロードするので，無駄なページをロードしなくて済む。」

* **誤答例（典型的に狙われる）**

  * 「容量比を大きくするとフォールト減少」 → 実際は逆。
  * 「前もってロードする」 → プリページングの特徴。
  * 「スラッシングを回避できる」 → デマンドでも起こり得る。

---

## １－６　よくある誤解と正しい知識

* ❌ 誤解：「デマンド方式ならスラッシングは起きない」

* ✅ 正解：「ページフォールトが多ければスラッシングに陥る」

* ❌ 誤解：「仮想記憶を広げれば安定」

* ✅ 正解：「広げすぎると逆にページフォールトが増える」

---

## １－７　一問一答（実戦強化版）

**Q1** デマンドページングの利点は？
**A1** 必要なページだけロードするので主記憶を効率利用できる。
👉 出題者の狙い：プリページングとの違いを見抜けるか。

---

**Q2** デマンド方式の欠点は？
**A2** 初回アクセスで必ずページフォールトが発生する。
👉 誤答パターン：「遅延がない」と選んでしまう。

---

**Q3** プリページング方式のメリットは？
**A3** ページフォールト発生時の遅延を軽減できる。
👉 デマンドと逆の性質。

---

**Q4** デマンドページングでスラッシングは回避可能か？
**A4** 不可能。ページフォールトが多発すればスラッシングに陥る。
👉 引っかけ肢に多い。

---

**Q5** デマンドページング方式でプログラム起動が速い理由は？
**A5** 必要なページだけ順次ロードするため、最初から全ページを読み込む必要がない。

---

## １－８　要約（3行以内）

デマンドページングは、必要なページのみロードする方式。
無駄なロードを避け、主記憶を効率利用できる。
ただし初回アクセスでページフォールトが発生し、スラッシングは起こり得る。

---

✅ これが「最高傑作」として仕上げた解説です。
もしまだ物足りないなら、「図をもっとASCIIアート風にする」か「本試験過去問とのリンクをリスト化する」方向で改良できます。

👉 あなたはどちらを希望しますか？（図解強化／過去問リンク強化）
