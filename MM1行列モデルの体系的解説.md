
---

# M/M/1待ち行列モデルの体系的解説

## 1. はじめに：待ち行列モデルとは

待ち行列モデルとは、顧客がサービスを受けるために列に並んで待つような状況を数理的に分析するためのモデルです。顧客の到着からサービスの完了までにかかる時間（待ち時間など）を確率論的に見積もることを目的とします。

本ドキュメントでは、情報処理技術者試験の問題（平成28年春期 問3）を題材に、最も基本的な待ち行列モデルである**「M/M/1モデル」**について、その定義、基本条件、適用例を体系的に解説します。

## 2. M/M/1モデルの概要

### 2.1. M/M/1モデルの概念図と定義

M/M/1モデルは、以下のような単一窓口の待ち行列システムを表現します。

```
到着(A) → 待ち行列(Queue) → 窓口(Server) → 退去
```

このモデルは、ケンドールの記号と呼ばれる **`a/b/c`** という形式で表現されます。M/M/1は、この記号に基づいた名称です。

*   **`a` = 到着過程 (Arrival Process)**
    *   **M**: 到着が**マルコフ的（Markovian）**であることを示します。これは、事象の発生が過去の履歴に依存しない**「メモリレス性」**を持つことを意味し、具体的には**ポアソン到着**（到着間隔が**指数分布**に従う）であることを仮定します。
*   **`b` = サービス時間分布 (Service Time Distribution)**
    *   **M**: サービス時間も同様に**マルコフ的（メモリレス）**であり、**指数分布**に従うことを仮定します。
*   **`c` = サービス窓口数 (Number of Servers)**
    *   **1**: サービスを提供する窓口が1つ（単一サーバ）であることを示します。

### 2.2. M/M/1モデルの目的と活用例

このモデルは、到着率（λ: 単位時間あたりの平均到着数）とサービス率（μ: 単位時間あたりにサービス可能な平均数）を基に、以下のような性能指標を確率的に見積もるために使用されます。

*   平均待ち時間
*   平均システム滞在時間（待ち時間＋サービス時間）
*   平均待ち人数

これにより、例えばプリンターの共同利用環境において、「印刷要求が多すぎて待ち時間が長すぎる」あるいは「プリンターが過剰で無駄がある」といった問題を評価し、適切なリソース（台数、バッファサイズなど）の設計に役立てることができます。

## 3. M/M/1モデルの基本条件

M/M/1モデルを適用するためには、以下の条件が満たされている必要があります。

*   **到着過程がポアソン分布に従うこと**
    *   クライアントからの印刷要求（到着）は、互いに**独立**かつ**ランダム**に発生します。
    *   過去の到着履歴や、現在の待ち行列の状況に影響されません（メモリレス性）。
*   **サービス時間が指数分布に従うこと**
    *   プリンターが1つの印刷要求を処理する時間（サービス時間）も**ランダム**であり、**メモリレス性**を持ちます。
*   **窓口数が1つであること**
    *   サービスを提供する窓口（プリンター）は1台のみです。
*   **サービス規律が先着順（FCFS）であること**
    *   待ち行列に並んだ要求は、到着した順番に処理されます (First-Come, First-Served)。
*   **待ち行列の長さに制限がないこと（無限キュー）**
    *   印刷待ちの要求を溜めておくバッファサイズに上限がなく、到着した要求が拒否されることはありません。

## 4. 【演習】M/M/1モデルの適用条件の判断

ここでは、具体的なシナリオを通じて、M/M/1モデルの条件に合致するかどうかを判断します。

### 4.1. 問題文（平成28年春期 問3より）

> 多数のクライアントが，LANに接続された1台のプリンターを共同利用するときの印刷要求から印刷完了までの所要時間を，待ち行列理論を適用して見積もる場合について考える。プリンターの運用方法や利用状況に関する記述のうち，M/M/1の待ち行列モデルの条件に反しないものはどれか。

### 4.2. 各選択肢の解説

#### ア. 一部のクライアントは，プリンターの空き具合を見ながら印刷要求する。

*   **評価**: **条件に反する**
*   **理由**: これは、到着がシステムの状態（プリンターの空き具合）に依存していることを意味します。M/M/1モデルの前提である「到着はメモリレスでランダムに発生する（ポアソン到着）」という条件に違反します。

#### イ. 印刷の緊急性や印刷量の多少にかかわらず，先着順に印刷する。

*   **評価**: **条件に反しない（正しい）**
*   **理由**: M/M/1モデルでは、待ち行列に並んだ順にサービスを提供する**先着順（FCFS: First-Come, First-Served）**が標準的なサービス規律です。この記述はモデルの前提と整合します。

#### ウ. 印刷待ちの文書の総量がプリンターのバッファサイズを超えるときは，一時的に受付を中断する。

*   **評価**: **条件に反する**
*   **理由**: M/M/1モデルは、待ち行列の長さ（バッファ）に上限がない**無限キュー**を前提としています。受付を中断したり、到着した要求を拒否したりする運用は、バッファが有限であることを意味し、これは**有限キューモデル（例: M/M/1/K）**で扱われるべき状況です。

#### エ. 一つの印刷要求から印刷完了までの所要時間は，印刷の準備に要する一定時間と，印刷量に比例する時間の合計である。

*   **評価**: **条件に反する**
*   **理由**: サービス時間に「準備に要する一定時間」という決定論的な要素が含まれているため、サービス時間はランダム性を失い、メモリレス性が成り立たなくなります。これは、サービス時間が**指数分布**に従うというM/M/1モデルの前提に違反します。

## 5. よくある誤解と正しい知識

M/M/1モデルを適用する上で間違いやすいポイントを整理します。

*   **誤解①**: 「到着がランダム」とは、単にばらつきが大きいことだ。
    *   **正しい知識**: 正確には**ポアソン到着**である必要があります。これは、到着が互いに独立で、かつ平均発生率が一定であることを意味します。利用者がシステムの空き状況を見て要求を送るなど、到着がシステムの状態に依存する場合はポアソン到着の仮定が崩れます。

*   **誤解②**: 平均サービス時間が分かればM/M/1モデルを適用できる。
    *   **正しい知識**: 平均値だけでなく、**分布が指数分布（メモリレス）**であることが重要です。サービス時間に「固定の準備時間＋ページ数に比例する時間」といった決定論的な要素が含まれると、分布は指数分布ではなくなり、M/M/1の解析式は適用できません。

*   **誤解③**: バッファが有限でもM/M/1の公式が使える。
    *   **正しい知識**: バッファが有限で、上限を超えると要求が失われる（ブロッキング）場合は、**有限キューモデル（M/M/1/K）**として扱う必要があり、無限キューを前提とするM/M/1の性能指標とは異なります。

*   **誤解④**: 先着順でなければM/M/1では扱えない。
    *   **正しい知識**: M/M/1モデルの標準的な解析はFCFSを前提としますが、優先度付きのサービス規律などを扱うための拡張モデル（優先度M/M/1など）も存在します。ただし、情報処理技術者試験などではFCFSが一般的な前提とされます。

## 6. 関連モデルとの比較

M/M/1モデルを他のモデルと比較することで、その特徴がより明確になります。

### 6.1. サービス時間分布の違い (M/M/1 vs M/G/1)

| 項目 | **M/M/1** | **M/G/1** |
| :--- | :--- | :--- |
| **到着分布** | ポアソン（指数間隔） | ポアソン（指数間隔） |
| **サービス分布** | **指数分布 (M)** | **任意分布 (G: General)** |
| **窓口数** | 1 | 1 |
| **解析の難易度** | 容易（解析解あり） | サービス分布次第で難化 |

### 6.2. キュー容量の違い (無限キュー vs 有限キュー)

| 項目 | **無限キュー (M/M/1)** | **有限キュー (M/M/1/K)** |
| :--- | :--- | :--- |
| **キュー容量** | 無限 | 有限 (K個まで) |
| **到着の扱い** | 到着は常に受け入れられる | バッファ超過時に到着は拒否（喪失）される |
| **適用場面** | 理論的な基本モデル | 実際のシステムのバッファ制約を考慮する場合 |

## 7. まとめ

*   **M/M/1モデルの核心**: 「**ポアソン到着（M）**」「**指数分布のサービス時間（M）**」「**単一の窓口（1）**」を前提とする最も基本的な待ち行列モデルです。
*   **適用できる条件**: サービス規律が**先着順（FCFS）**で、待ち行列のバッファが実質的に**無限**とみなせる状況に適用されます。
*   **適用できない条件**: **到着がシステムの状態に依存**する場合、**サービス時間に決定論的な要素が含まれる**場合、**バッファ容量に上限がある**場合は、M/M/1モデルの前提から外れます。

---
*補足：M/M/1モデルでは、到着率λとサービス率μから利用率ρ=λ/μを算出し、平均待ち時間($W_q$)や系内平均人数などの性能指標を数式で求めることが可能です。*