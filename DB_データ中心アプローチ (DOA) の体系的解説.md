# データ中心アプローチ (DOA) の体系的解説

## 1. データ中心アプローチ (DOA) の概要

### 1.1. 定義

データ中心アプローチ（DOA: Data Oriented Approach）とは、ソフトウェア設計において**「データ（情報資源）の構造」**を中心に据え、業務モデルを表現しシステムを構築する手法です。プログラムとデータは独立したものと考え、共通のデータをプログラムが操作するものとして設計します。

このアプローチでは、E-R図などを用いて対象となる業務領域をモデル化し、それに基づいてデータ構造を決定します。

### 1.2. 基本的な考え方と背景

データ中心アプローチは、「**データは業務の中で比較的安定的で変化しにくい**」という性質に着目しています。業務プロセスやビジネスロジックは時間や環境によって変化しやすいのに対し、それらの基盤となるデータ構造は比較的安定しています。

この「安定したもの（データ）」をシステムの軸（基盤）として設計することで、長期的な安定性と拡張性を確保するという発想が根底にあります。

### 1.3. 特徴

#### 1.3.1. 長所：長期的な安定性と柔軟性

*   業務手順が変更になっても、データ構造は変わらない場合が多いため、**システムの長期的な安定性を確保**できます。
*   プロセス中心アプローチと比較して、ビジネスロジックの変更に対する柔軟性が高く、**「変更に強い」**とされています。

#### 1.3.2. 短所：データ構造の変更への対応の難しさ

*   システムの基盤がデータ構造にあるため、もし**データ構造自体の変更を伴う仕様変更が発生した場合、その影響範囲は大きくなり、対応は難しくなります**。
*   「システムの開発後の仕様変更は、データ構造や手続の局所的な変更で対応可能なので、比較的容易に実現できる」という考え方は、データ中心アプローチの特性とは異なります。

## 2. 他のソフトウェア設計アプローチとの比較

ソフトウェアの分析・設計技法は、主に以下の3つに大別されます。

*   **データ中心アプローチ (DOA)**
*   **機能中心アプローチ (プロセス中心アプローチ)**
*   **オブジェクト指向アプローチ**

### 2.1. 各アプローチの比較概要

| アプローチ | 着目点 | 主な手法・モデル | 特徴・キーワード |
| :--- | :--- | :--- | :--- |
| **データ中心アプローチ (DOA)** | **データの構造** | E-R図、正規化 | データ構造、安定性、一貫性、整合性 |
| **機能中心アプローチ** | 業務プロセス・手続き | DFD、階層化機能分割 | 流れ、処理分解 |
| **オブジェクト指向アプローチ** | データと手続きの統合 | クラス図、オブジェクト | カプセル化、継承、モジュール分割 |

### 2.2. プロセス中心アプローチとの違い

*   **プロセス中心アプローチ**は「業務手順」に着目します。このため、業務手順が変わるとシステム全体に影響が及びやすく、保守性が低いという課題がありました。
*   **データ中心アプローチ**は、より安定的である「データ」に着目することで、この課題を解決し、システムの長期安定性を確保します。

### 2.3. オブジェクト指向アプローチとの違い

*   **オブジェクト指向アプローチ**は、データとそのデータを操作する手続き（メソッド）を「オブジェクト」として一体化（カプセル化）します。
*   **データ中心アプローチ**は、データとプログラム（手続き）を明確に分離して扱います。

## 3. データ構造設計における重要概念：論理設計と物理設計

データ中心アプローチを理解する上で、「データ構造設計」が何を指すのかを正確に把握することが重要です。この用語には「論理設計」と「物理設計」という2つの側面があります。

### 3.1. 「データ構造設計」の2つの側面

1.  **論理的データ構造設計**
    *   **目的**: 業務上の情報資源を正しく、矛盾なく表現すること。**データの一貫性・整合性・拡張性**を確保します。
    *   **概要**: E-R図や正規化といった技法を用いて、実装環境に依存しない抽象的・概念的なデータのモデルを設計します。
    *   **位置づけ**: **データ中心アプローチで主に対象となるのは、この論理設計のフェーズです。**

2.  **物理的データ構造設計**
    *   **目的**: プログラムが最も効率よくデータにアクセスできるよう最適化すること。**検索・更新処理の性能向上**を目指します。
    *   **概要**: インデックスの配置、データの物理的な配置方法（パーティショニングなど）、非正規化といった技法を用いて、実際のデータベースシステム上での実装を設計します。
    *   **位置づけ**: これは性能設計の観点であり、物理的な資源（ディスク、メモリ等）への実装を考慮するフェーズです。

### 3.2. 論理データモデルと物理データモデルの詳細

#### 3.2.1. 目的と設計対象

*   **論理データモデル**: **「業務を正しく表す」**ことを目的とし、データの意味や関係性といった業務モデルを設計対象とします。
*   **物理データモデル**: **「コンピュータで速く動かす」**ことを目的とし、ストレージ上での格納方法やアクセス方法を設計対象とします。

#### 3.2.2. 特徴の比較表

| 観点 | 論理データモデル | 物理データモデル |
| :--- | :--- | :--- |
| **目的** | 業務の情報資源を正しく表現する | 実際のDBで効率的に処理できるよう最適化する |
| **主な技法** | E-R図、正規化、関数従属性の整理 | インデックス設計、パーティショニング、非正規化 |
| **優先する品質** | **一貫性・整合性・拡張性** | **処理速度・効率・スループット** |
| **安定性** | 比較的安定（業務データはあまり変わらない） | 性能要件により変わりやすい（アクセス頻度・件数次第） |
| **具体例** | 「社員―部署」の1対多関係をE-R図で表す | 社員テーブルの部署IDに索引を付ける、検索を速くするため非正規化する |

#### 3.2.3. 設計プロセスの流れ

一般的に、ソフトウェア開発は以下の流れで進みます。データ中心アプローチが主に関わるのは論理データモデルの段階です。

```
業務分析
   ↓
【論理データモデル】（E-R図・正規化）
   ↓
【物理データモデル】（索引・非正規化・配置）
   ↓
実装（RDBのテーブル・SQL）
```

#### 3.2.4. 「論理」「物理」という名称の由来

これらの名称は、それぞれのモデルが対象とする世界の性質に由来しています。

*   **論理 (Logical)**: 抽象的・概念的な表現を指します。実装環境に依存しない「**人間の論理で整理した考え方のモデル（青写真）**」と理解できます。
*   **物理 (Physical)**: 実際の物理的資源（ディスク、メモリ等）に落とし込んだ具体的な形を指します。「**機械（物理世界）で実際にどう配置されるかの実装（施工）**」と理解できます。

## 4. 実践的知識と注意点 (IPA試験等の観点)

### 4.1. 主要な手法とキーワード

*   データ中心アプローチを説明する上で、**「E-R図」**と**「正規化」**は中心的な技術要素です。
*   設問では**「データ構造に着目」**というキーワードが正答に含まれることが多くあります。

### 4.2. よくある誤解と正しい知識

*   **誤解**: 「データ中心アプローチは効率性を重視する」
    *   **正しい知識**: データ中心アプローチ（の論理設計段階）で重視されるのは、**効率性よりもデータの一貫性・整合性**です。処理効率の向上は、その後の物理設計フェーズの課題です。

*   **誤解**: 「データ中心アプローチはどんな変更にも容易に対応できる」
    *   **正しい知識**: **データ構造が安定しているため、ビジネスプロセスの変更には強い**ですが、基盤となる**データ構造自体の変更には大きな影響**が伴います。

### 4.3. 正答例・誤答例の分析

*   **正答例**:
    *   「対象業務領域のモデル化に当たって、情報資源であるデータの構造に着目する。」

*   **誤答例**:
    *   「**プログラムが最も効率よくアクセスできるように**データ構造を設計する。」
        *   **分析**: これは物理設計（性能設計）の観点であり、データ中心アプローチの主目的である論理設計の観点とは異なります。
    *   「**機能を詳細化する過程で、モジュールの独立性が高くなるように**プログラムを分割していく。」
        *   **分析**: これはオブジェクト指向アプローチの特徴です。
    *   「システムの開発後の仕様変更は、**データ構造の局所的な変更で対応可能**なので、比較的容易に実現できる。」
        *   **分析**: これはデータ中心アプローチの弱点を逆にした記述です。データ構造の変更は影響が大きくなります。