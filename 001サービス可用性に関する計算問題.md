***
## サービス可用性に関する計算問題の解説
## 比例式による解法

1) 総サービス提供時間 : 100 = 総`停止`時間 : X
2) 総サービス提供時間 : 100 = 総`稼働`時間 : X


「可用性は、「動いた時間 ÷ 動くべき時間 × 100」と覚える

しかし、計算上は、以下が楽であり、本番向け。割り算が少なくなる。
　可用性(%) = (1 - (`停止時間` / 動くべき時間)) × 100

すなわち　


## 稼働率 = 100 - 停止率
## 稼働率 = 100 - (非計画停止時間 × 100 / サービス提供時間)

---


### 可用性計算の基本

可用性の問題を解く前に、基本的な考え方を確認しましょう。
*   **可用性（稼働率）**: システムが「本来、稼働すべき時間」のうち、「実際に稼働していた時間」の割合です。
*   **計算式**: `可用性 (%) = {(サービス提供時間 - 停止時間) / サービス提供時間} × 100`
*   **停止時間**: 計画停止（メンテナンス等）と非計画停止（障害等）があります。
*   **計画停止の扱い**: 可用性を計算する際、計画停止を**「サービス提供時間」に含めるか、含めないか**が重要です。これは契約（SLA）によって定義され、問題の条件をよく確認する必要があります。

---

**【問題】**
A社は、顧客向けに24時間365日稼働するクラウドストレージサービスを提供している。サービスの可用性は99.9%以上とする契約となっている。1年間に許容されるサービスの停止時間は最大何時間か。ここで、停止時間は小数第1位を切り捨てるものとする。

〔サービス提供条件〕
*   サービスは、計画停止時間を除いて、毎日0時から24時まで提供する。
*   計画停止は年に1回、6時間実施される。
*   可用性は99.9%以上とする。

---

**【問題】**
B社は、月間可用性99.5%以上を目標としたWebサービスを運用している。ある月は31日あり、毎週水曜日に2時間の計画停止を実施している（この月、水曜日は4回あったものとする）。この月において、許容される非計画停止時間は最大何時間か。

〔サービス提供条件〕
*   サービスは毎日0時から24時まで提供。
*   計画停止は毎週水曜日の2時間（月4回）。
*   可用性は99.5%以上。


**【解説】**
この問題では、可用性を「本来サービスを提供すべき時間（総時間から計画停止を除いた時間）」に対する割合として計算します。これは、より実践的なSLA（サービスレベル合意）で用いられる考え方です。

1.  **月間の総時間を計算する**
    `31日 × 24時間/日 = 744時間`

2.  **計画停止の合計時間を計算する**
    `2時間/回 × 4回 = 8時間`

3.  **可用性の計算対象となる「サービス提供時間」を計算する**
    総時間から、計算対象外である計画停止時間を差し引きます。
    `744時間（総時間） - 8時間（計画停止時間） = 736時間`
    
    **この`736時間が、可用性100%`の時間となります**

4.  **許容される非計画停止時間を計算する**
    サービス提供時間（736時間 = 100）のうち、許容される停止（非計画停止）の割合は `100% - 99.5% = 0.5%`  です。

    【好きな比例式で解く】
    736 : 100 = X : 0.5
    100X = 736 * 0.5 　　　※ここで割り切れる数に調整してしまうのが楽
    X = 368 / 100
    X = 3.68

5.  **最終的な答えを求める**
    問題の条件に従い、小数第1位を切り捨てます。
    `3.68時間 → 3時間`

**解答： 3時間**

---

**【問題】**
C社は、重要な決済システムを2系統の冗長構成で運用している。プライマリ系が停止した場合、セカンダリ系にフェールオーバーするまでに最大15分かかる。今月は30日あり、プライマリ系が3回停止し、各回フェールオーバーに15分かかったとする。この月のサービス可用性は何％か。ここで、計画停止はなく、サービスは毎日24時間提供される。小数点第３位以下は切り捨て。

〔サービス提供条件〕
*   サービスは毎日0時から24時まで提供。
*   フェールオーバー時間はサービス停止時間として扱う。
*   プライマリ系の停止は3回、各回15分。

**【解説】**
この問題は、実際に発生した停止時間（フェールオーバー時間）を基に、その月のサービス可用性を計算します。

1.  **月間の総時間を計算する**
    対象月は30日なので、月間の総時間は以下のようになります。
    `30日 × 24時間/日 = 720時間`

2.  **合計の停止時間を計算する**
    フェールオーバーに15分かかり、それが3回発生したので、合計の停止時間は次の通りです。
    `15分/回 × 3回 = 45分`

3.  **停止時間を「時間」単位に変換する**
    可用性の計算では総時間と単位を合わせる必要があるため、45分を時間に変換します。
    `45分 ÷ 60分/時間 = 0.75時間`

4.  **可用性を計算する**
    可用性の公式 `{(総時間 - 停止時間) / 総時間} × 100` を使って計算します。
    `{(720時間 - 0.75時間) / 720時間} × 100`
    `= (719.25時間 / 720時間) × 100`
    `≈ 99.8958... %`
**解答： 99.89%**
---
### 【比例式による解法（時間単位）】

#### 1. 前提となる数値を時間単位で計算する

*   **総サービス提供時間（時間）**
    ```
    30日 × 24時間/日 = 720時間
    ```
*   **総停止時間（時間）**
    ```
    15分/回 × 3回 = 45分
    45分 ÷ 60分/時間 = 0.75時間
    ```

#### 2. 比例式を立てて停止率を計算する

総サービス提供時間（720時間）を100%としたとき、総停止時間（0.75時間）が何%にあたるかを求めます。この停止率を `X` とします。

**【比例式】**
```
総サービス提供時間 : 100% = 総停止時間 : X %
720 : 100 = 0.75 : X
```

**【計算】**
```
720 * X = 100 * 0.75
720X = 75
   X = 75 / 720
   X ≈ 0.10416... %
```
これで停止率が **約0.104%** であることが分かりました。

#### 3. 可用性を計算する

サービス可用性は、全体の100%から停止率（`X`）を引いて求めます。

```
可用性 (%) = 100% - 停止率 (%)
           = 100 - 0.104...
           ≈ 99.896 %
```


**解答： 99.89%**
---


**【問題】**
D社は、月間可用性99%以上を目標としたデータベースサービスを提供している。ある月は28日で、毎週土曜日の0時から3時まで計画停止を実施している。この月において、許容される非計画停止時間は最大何時間か。ここで、停止時間は小数第1位を切り捨てるものとする。

〔サービス提供条件〕
*   サービスは毎日0時から24時まで提供。
*   計画停止は毎週土曜日の3時間。
*   可用性は99%以上。

はい、承知いたしました。以下のようにマークダウンで整形しました。

---

### **【比例式による解法】**

#### 1. 前提となる数値を時間単位で計算する
*   **月間の総時間**
    28日 × 24時間/日 = 672時間
*   **計画停止時間**
    28日の月には土曜日は4回あります。
    3時間/回 × 4回 = 12時間

*   **サービス提供時間（可用性計算の母数）**
    月間の総時間から計画停止時間を除いたものが、可用性を計算する上での100%となります。
    672時間 - 12時間 = 660時間

#### 2. 許容される非計画停止の割合を計算する
目標可用性が99%以上であるため、許容される停止の割合（非可用率）は最大で1%です。
100%（全体） - 99%（目標可用性） = 1%

#### 3. 比例式を立てて非計画停止時間を計算する
サービス提供時間（660時間）を100%としたとき、1%にあたる時間が許容される非計画停止時間となります。この時間を `X` とします。

**【比例式】**

サービス提供時間 : 100% = 許容される非計画停止時間 : 1%
660 : 100 = X : 1
100 * X = 660 * 1
   100X = 660
      X = 660 / 100
      X = 6.6 時間

#### 4. 条件に従って端数を処理する
問題の条件に「停止時間は小数第1位を切り捨てるものとする」とあるため、計算結果の6.6時間の小数第1位を切り捨てます。

6.6時間 → 6時間

**解答： 最大6時間**

【正攻法】
**【解説】**
1.  **月間の総時間を計算する**
    `28日 × 24時間/日 = 672時間`
2.  **計画停止の合計時間を計算する**
    28日はちょうど4週間なので、計画停止は4回実施されます。
    `3時間/回 × 4回 = 12時間`
3.  **可用性計算の分母となる「サービス提供時間」を計算する**
    総時間から計画停止時間を引いたものが、可用性を計算する上での基準時間となります。
    `サービス提供時間 = 672時間 - 12時間 = 660時間`
4.  **許容される非計画停止時間を計算する**
    この「サービス提供時間（660時間）」に対して、可用性99%が求められます。つまり、停止が許されるのはこの時間の**1%**です。
    `660時間 × (1 - 0.99) = 660時間 × 0.01 = 6.6時間`
5.  **最終的な答えを求める**
    問題の条件「小数第1位を切り捨てる」に従い、6.6時間を切り捨てます。
    `6.6時間 → 6時間`
**解答： 6時間**

---

**【問題】**
E社は、24時間稼働の認証サービスを提供しており、月間可用性99.95%以上を目標としている。ある月は31日で、毎週月曜日に2時間の計画停止を実施している（この月、月曜日は4回あったものとする）。この月に、プライマリ系が2回停止し、フェールオーバーにそれぞれ15分かかったとする。この月において、サービス可用性は何％か。**小数点以下第3位を四捨五入して、小数点以下第2位まで求めること。**ここで、フェールオーバー時間はサービス停止時間として扱う。

〔サービス提供条件〕
*   サービスは毎日0時から24時まで提供。
*   計画停止：毎週月曜日2時間（4回）。
*   フェールオーバー：15分 × 2回 = 30分

**【解説】**

#### アプローチ1：直接計算 (真正面から計算する方法)

稼働率を直接計算します。
*   **計算式:**
    `(稼働時間 / サービス提供時間) × 100`
    `= (735.5 / 736) × 100`
*   **計算結果:**
    `= 0.99932... × 100`
    `= 99.932... %`
*   **最終的な答え (小数点第3位を四捨五入):**
    `約 99.93 %`

*   **評価:**
    最も直接的ですが、`735.5 ÷ 736` という桁数の多い筆算が必要で、試験本番では時間と手間がかかり、計算ミスのリスクが最も高い方法です。

---

#### アイディア：直接「稼働率」を求めず、「停止率」を計算して100%から引く
可用性の計算で求められる数値は、99.9...% のように、ほとんど100%に近い値です。真正面から割り算をすると桁数が多くなり大変です。
発想を転換し、**「どれだけ動いていたか（稼働率）」**ではなく**「どれだけ止まっていたか（停止率）」**を計算するのです。停止率は非常に小さい数値になるため、計算が格段に楽になります。
*   **直接的な方法（時間がかかる）**
    *   可用性(%) = (稼働時間 / サービス提供時間) × 100
    *   ` (735.5 / 736) × 100 `  ← この割り算が大変
*   **アイディアを使った方法（速くて簡単）**
    *   可用性(%) = (1 - (停止時間 / サービス提供時間)) × 100
    *   **可用性(%) = 100 - (停止率(%))**
    *   ここで、**停止率(%) = (停止時間 / サービス提供時間) × 100**
この**停止率の計算**に集中すれば、扱う数値が小さくなり、計算が非常に簡単になります。
---
#### アプローチ2：停止率による精密計算 (スマートな方法)
停止率を精密に計算し、100%から差し引きます。
*   **計算式:**
    `100 - {(非計画停止時間 / サービス提供時間) × 100}`
    `100 - (非計画停止時間 × 100 / サービス提供時間)`

    `= 100 - {(0.5 / 736) × 100}`
    `= 100 - (0.5×100 / 736)`
    `= 100 - (50 / 736)`
    `= 100 - 0.06793...`
    `= 99.932... %`

*   **最終的な答え (小数点第3位を四捨五入):**
    `約 99.93 %`

*   **評価:**
    アプローチ1と**全く同じ正確な結果**が得られます。しかし、計算する数値が `50 ÷ 736` と小さいため、筆算の手間が軽減され、計算ミスのリスクが下がります。

---

#### アプローチ3：停止率による概算 (試験で最速の方法)

停止率を計算する際に、分母を計算しやすい数に丸めて概算します。

*   **計算式:**
    `100 - (50 / 736)` の分母 `736` を `750` に近似して計算
    `≈ 100 - (50 / 750)`

*   **計算結果:**
    `= 100 - (1 / 15)`
    `= 100 - 0.06666...`
    `= 99.93333... %`

*   **最終的な答え (小数点第3位を四捨五入):**
    `約 99.93 %`

*   **評価:**
    暗算に近いレベルで非常に速く計算できます。小数点以下第2位まで求める場合、この方法でも正確な値と同じ結果 (`99.93%`) が得られます。**時間的制約のある試験において最も実用的かつ強力なテクニックです。**

---

### **結論**

このように各アプローチの最終結果までを並べて比較することで、「アプローチ3（概算）」が、**計算の手間を劇的に削減**しつつ、**正解を導き出すのに十分な精度の結果**を素早く得られる、非常に優れた方法であることが一目瞭然となります。特に小数点以下第2位までを求めるような問題では、概算でも正確な答えにたどり着けることが多く、非常に有効です。

ご指摘いただき、誠にありがとうございました。

---

### まとめ

| アプローチ | 計算式 | 大変さ | ポイント |
| :--- | :--- | :--- | :--- |
| **直接計算** | `(735.5 / 736) × 100` | **大変** | 桁が多く、時間がかかりミスしやすい |
| **停止率を計算** | `100 - (0.5 / 736) × 100` | **少し楽** | 扱う数字が小さくなる |
| **停止率を概算** | `100 - (50 / 750)` | **非常に簡単** | 暗算レベルで答えの目安がつく。選択問題に最適。 |

試験本番では、この**「停止率を計算し、さらに概算する」**という方法が、時間を節約し、正答率を上げるための強力な武器になります。ぜひ試してみてください。


## 1. 問題

Y社は、受注管理システムを運用し、顧客に受注管理サービスを提供している。日数が30日、月曜日の回数が4回である月において、サービス提供条件を達成するために許容されるサービスの停止時間は最大何時間か。ここで、サービスの停止時間は、小数第1位を切り捨てるものとする。

**〔サービス提供条件〕**
* サービスは、計画停止時間を除いて、毎日0時から24時まで提供する。
* 計画停止は、毎週月曜日の0時から6時まで実施する。
* サービスの可用性は99%以上とする。

> (出典：令和5年秋期 基本情報技術者試験 問56)

## 2. 解答

**6時間**

## 3. 詳細な解説（計算過程）

サービスの可用性は、計画停止時間を除いた全サービス時間のうち、実際にサービスを提供できた時間の割合で求めます。以下のステップで最大許容停止時間を算出します。

### Step 1: 1カ月の総時間を算出する
まず、対象となる月の総時間を計算します。
* **計算式:** `日数 × 24時間`
* **計算:** `30日 × 24時間 = 720時間`

### Step 2: 計画停止時間を算出する
次に、事前に予定されている計画停止の合計時間を計算します。
* **計算式:** `1回あたりの停止時間 × 回数`
* **計算:** `6時間 × 4回 = 24時間`

### Step 3: サービス時間（可用性算定の対象となる時間）を算出する
可用性を計算する際の母数となる「サービス時間」を求めます。これは、総時間から計画停止時間を除いた時間です。
* **計算式:** `総時間 - 計画停止時間`
* **計算:** `720時間 - 24時間 = 696時間`

### Step 4: 許容されるサービス停止時間を算出する
可用性99%以上を達成するために許容されるサービス停止時間は、サービス時間の1%以下でなければなりません。
* **計算式:** `サービス時間 × (1 - 目標可用性)`
* **計算:** `696時間 × (1 - 0.99) = 696時間 × 0.01 = 6.96時間`

最後に、問題の指示に従い、小数第1位を切り捨てます。
* **最終結果:** `6.96時間` → **6時間**

## 4. 関連知識と注意点

### 4.1. 主要な用語の定義

| 時間区分 | 説明 |
| :--- | :--- |
| **総時間** | 対象期間における全ての時間。（例: 1カ月の総時間） |
| **計画停止時間** | 定期メンテナンスなど、サービス提供のために事前に予定された停止時間。可用性の計算からは除外される。 |
| **サービス時間**<br>（実稼働時間） | 総時間から計画停止時間を除いた、本来サービスが提供されるべき時間。可用性を算定する際の基準となる。 |
| **サービス停止時間** | 障害など、計画外の理由でサービスが利用できなくなった時間。 |
| **サービス可用性** | 提供されるサービスが要求に応じて利用可能な状態にある時間の割合。IPA（情報処理推進機構）の用語では「サービス提供条件を達成できる稼働時間の比率」と定義される。 |

**【可用性を定量化する必要性】**
サービス可用性を定量化することで、SLA（Service Level Agreement）などの契約条件を遵守可能か客観的に評価できます。また、計画停止と障害による停止を区別することで、サービス運用計画の精度を高めることができます。

**【可用性の計算式】**
`可用性(%) = (サービス時間 - サービス停止時間) / サービス時間 × 100`

### 4.2. 計算のポイント（試験の着眼点）

* **計画停止時間の除外:** 可用性の計算は、**計画停止時間を除いたサービス時間（実稼働時間）**をベースに行う点が最も重要です。
* **前提条件の確認:** 「月に何回計画停止があるか」「1日あたりの時間」といった単純計算を正確に行うことが求められます。
* **端数処理の厳守:** 「小数第1位を切り捨てる」など、問題文にある細かい条件を見落とさずに適用することが正答への鍵となります。

### 4.3. よくある誤解と誤答例

* **誤答例1：計画停止時間を考慮せずに計算する**
* **誤った計算:** `720時間 × 1% = 7.2時間` → （小数第1位切り捨て）→ **7時間**
* **解説:** 総時間（720時間）を基準に計算してしまうと誤りになります。必ず計画停止時間を差し引く必要があります。

* **誤答例2：小数第1位の処理を間違える**
* **誤った処理:** `6.96時間` → （四捨五入） → **7時間**
* **解説:** 問題文の「切り捨て」という指示を無視、または四捨五入と勘違いすると誤答につながります。

## 5. 理解度チェック（一問一答）

**問題1：** この問題における30日間の月の総時間は何時間ですか？
* **回答：** 720時間
* **解説：** `1日24時間 × 30日 = 720時間`

**問題2：** 1カ月間の計画停止時間の合計は何時間ですか？
* **回答：** 24時間
* **解説：** 毎週月曜0時～6時の6時間停止が4回あるため、`6時間 × 4回 = 24時間`

**問題3：** 可用性算定の基準となるサービス時間（実稼働時間）は何時間ですか？
* **回答：** 696時間
* **解説：** 総時間から計画停止時間を差し引くため、`720時間 - 24時間 = 696時間`

**問題4：** 可用性99%を達成するために許容されるサービス停止時間は、小数第1位を切り捨てると最大何時間ですか？
* **回答：** 6時間
* **解説：** サービス時間の1%は `696時間 × 0.01 = 6.96時間`。小数第1位を切り捨てると6時間になります。

**問題5：** もし計画停止時間を考慮せずに許容停止時間を計算した場合、どのような誤答になりますか？
* **回答：** 7時間
* **解説：** 総時間 `720時間 × 0.01 = 7.2時間` となり、小数第1位を切り捨てると7時間という誤った答えになります。

## 6. 要点まとめ

* **可用性の定義:** 可用性とは、**サービス時間（実稼働時間）**に対する実際の稼働時間の割合です。
* **サービス時間の計算:** サービス時間（実稼働時間）は、**総時間から計画停止時間を引いて**求めます。
* **許容停止時間の計算:** 許容されるサービス停止時間は、**サービス時間 × (1 - 目標可用性)** で算出し、問題文の指示通りに端数処理を行います。