**応用情報技術者試験「M/M/1待ち行列」** 
---

### １　全体像

M/M/1待ち行列モデルは、ITシステムにおける処理要求の待機状態を分析するために利用される確率モデルです。単一のサービス提供者（サーバーや処理装置）が、ランダムに到着する要求をランダムな処理時間でサービスする状況を表現します。

```text
                  +-----------------+
  要求到着 (λ) -> |   待ち行列      | -> サービス開始
                  +-----------------+
                           |
                           v
                  +-----------------+
                  |   サービス窓口  | -> サービス完了 (μ)
                  |   (サーバー)    |
                  +-----------------+
```
上記の図において、`λ`は平均到着率、`μ`は平均サービス率をそれぞれ表します。

### １－１　定義（IPA準拠）と用語の由来

M/M/1待ち行列の「M/M/1」は、待ち行列の性質を表すケンドール記法に従っています。

*   **最初のM (Markovian)**: 
到着プロセスの分布がポアソン分布（到着間隔が指数分布）であることを示します。
これは、客（処理要求）の到着がランダムであり、過去の到着履歴に依存しないことを意味します。
*   **次のM (Markovian)**: 
サービス時間の分布が指数分布であることを示します。
これは、サービス時間（処理時間）がランダムであり、過去の処理履歴に依存しないことを意味します。
*   **1**: サービス窓口（サーバー）の数が1つであることを示します。

「Markovian（マルコフ的）」という用語は、未来の状態が現在の状態のみに依存し、過去の履歴には依存しないというマルコフ過程の特性を指します。
この特性により、待ち行列の数学的分析が容易になります。待ち行列理論は、デンマークの電話技師A.K.Erlang（アーラン）が20世紀初頭に電話交換機の設計のために発展させたのが始まりです。

### １－２　技術の必要性（解決する具体的課題）

待ち行列理論、特にM/M/1モデルは、ITシステムにおける以下の具体的な課題を解決するために必要です。

*   **システムリソースの最適化**: 
サーバー、ネットワーク機器、データベースなどのシステムリソースが、ユーザーからの処理要求に対して十分な能力を持っているか、あるいは過剰なリソースではないかを判断します。
*   **応答時間の予測**: 
ユーザーがシステムに処理要求を送信してから結果が返ってくるまでの平均時間（応答時間）を予測し、サービスレベルアグリーメント（SLA）の達成可能性を評価します。
*   **ボトルネックの特定**: 
システム内で処理が滞りやすい箇所（ボトルネック）を特定し、性能改善のための対策を検討する際の基礎データを提供します。
*   **システム設計における要件定義**: 
新しいシステムを設計する際に、想定される処理量に対してどの程度の性能を持つ機器が必要かを定量的に見積もります。

例えば、Webサーバーへの同時アクセスが増加した際に、ユーザーがどれくらいの時間待たされるかを予測したり、サーバーの台数を増やすことで待ち時間がどの程度短縮されるかを評価したりする際に、待ち行列理論が利用されます。

### １－３　試験の着眼点（頻出領域／ひっかけ）

応用情報技術者試験におけるM/M/1待ち行列の着眼点は以下の通りです。

*   **基本公式の正確な適用**: 
平均到着率(λ)、平均サービス率(μ)、利用率(ρ)、平均待ち時間(Tw)、平均応答時間(Ts)の関係式を正確に理解し、適用できるかが問われます。
*   **単位の統一**: 
問題文中の時間単位（秒、分、時間）が統一されているかを確認し、必要に応じて変換する能力が試されます。単位の不統一は一般的な誤答の原因です。
*   **利用率と待ち時間の関係**: 
利用率が1に近づくにつれて、平均待ち時間が指数関数的に増加する特性を理解しているかどうかが問われます。この関係性を理解せずに、単に線形的に増加すると誤解する場合があります。
*   **ランダム性の理解**: 
到着率がサービス率を下回っていても（λ < μ）、ランダムな変動により待ち行列が発生することを理解しているかが問われます。

### １－４　体系マップ（分類・関係・比較表）

M/M/1待ち行列の主要な概念と公式の関係を以下に示します。

*   **主要な入力と計算される値**:

    ```text
    平均到着率 (λ) -------> 利用率 (ρ) ------> 平均待ち時間 (Tw) ----> 平均応答時間 (Ts)
    平均サービス率 (μ) ----^                     ^                       ^
                                                 | (1/μ)を考慮          | (Tw + 1/μ)
    ```

### **待ち行列理論の基本公式と単位**

#### **1. 平均到着率 (λ)**

*   **記号:** λ
*   **公式:** 問題文から読み取る
*   **意味:** 単位時間あたりに到着する要求の平均数です。
*   **単位の構造:** [件/時間]
    *   **具体例:** [件/秒]、[件/分]

#### **2. 平均サービス率 (μ)**

*   **記号:** μ
*   **公式:** 1 / (平均サービス時間)
*   **意味:** 単位時間あたりに処理できる要求の平均数です。
*   **単位の構造:** [件/時間]
    *   **具体例:** [件/秒]、[件/分]

#### **3. 利用率 (ρ)**

*   **記号:** ρ
*   **公式:** ρ = λ / μ
*   **意味:** サービス窓口（サーバー）が要求を処理していて稼働している時間の割合を示します。
*   **単位の構造:** [無次元]
    *   **具体例:** 無次元（例: 0.8）

#### **4. 平均待ち時間 (Tw)**

*   **記号:** Tw
*   **公式:** Tw = (ρ / (1 - ρ)) × (1 / μ)
*   **意味:** 要求が到着してから、実際にサービスの提供が開始されるまでの平均待機時間です。これにはサービス自体の時間は含まれません。
*   **単位の構造:** [時間]
    *   **具体例:** [秒]、[分]

#### **5. 平均応答時間 (Ts)**

*   **記号:** Ts
*   **公式:** Ts = Tw + (1 / μ)
*   **意味:** 要求が到着してから、その要求のサービスが完全に終了するまでの平均時間です。「平均待ち時間」と「平均サービス時間」を足したものになります。
*   **単位の構造:** [時間]
    *   **具体例:** [秒]、[分]

### `1 - ρ` と `1 / μ` がなぜ使われるのか?

## **1. `1 / μ` の意味： 平均サービス時間**

まず、`μ` (ミュー) は **平均サービス率** でしたね。これは「単位時間あたりに何件処理できるか」を表します。

*   **具体例:**
    *   ある窓口が **1分間に2人** の客をさばけるなら、μ = 2 [件/分] です。

では、この窓口で客 **1人あたりにかかる時間** は何分でしょうか？

1分 (60秒) で2人さばけるので、1人あたりにかかる時間はその半分の 0.5分 (30秒) ですね。
これを数式で表すと、

**1 / μ** = 1 / 2 = 0.5 [分/件]

となります。

このように、**`1 / μ` は「1件の要求を処理するのに平均でどれくらいの時間がかかるか」**、つまり **平均サービス時間** を表しています。

---

## **2. `1 - ρ` の意味： 窓口が空いている確率**

次に `ρ` (ロー) は **利用率** でした。これは「窓口（サーバー）が全体のうち、どれくらいの割合で稼働しているか」を示します。

*   **具体例:**
    *   利用率 ρ = 0.8 というのは、窓口が80%の時間、接客や処理で埋まっている状態を意味します。

では、窓口が **空いている（誰も対応していない）時間** の割合はどれくらいでしょうか？

全体の割合を 1 (100%) とすると、稼働している割合 (ρ) を引けば、空いている割合が出てきます。

**1 - ρ** = 1 - 0.8 = 0.2 (20%)

つまり、**`1 - ρ` は「窓口が要求を処理しておらず、空いている（アイドル状態である）時間の割合」** を表します。これは言い換えると、**「新しく来た客が、待たずにすぐサービスを受けられる確率」** とも考えられます。

---

## **公式の中での使われ方**

これらの意味を踏まえて、もう一度公式を見てみましょう。

### **平均応答時間 (Ts = Tw + 1/μ)**

*   これは「要求が完了するまでの全時間」＝「待っている時間」＋「サービスを受けている時間」という意味です。
*   `Tw` (平均待ち時間) に `1/μ` (平均サービス時間) を足す、という非常に直感的な式ですね。

### **平均待ち時間 (Tw = (ρ / (1 - ρ)) × (1 / μ))**

この式は少し複雑ですが、パーツに分解するとイメージしやすくなります。

*   **`ρ / (1 - ρ)`**: この部分は「自分の前に平均で何人並んでいるか（平均待ち行列長）」を大まかに表す部分です。
    *   `ρ` (利用率) が高くなるほど、この値は急激に大きくなります。
    *   例えば、利用率が50% (ρ=0.5) だと、0.5 / (1-0.5) = 1人待ちです。
    *   しかし、利用率が90% (ρ=0.9) になると、0.9 / (1-0.9) = 9人待ちとなり、待ち時間が爆発的に増えることが分かります。これは現実のレジの混雑などでも体験する感覚と一致します。
*   **`× (1 / μ)`**: そして、その「平均の待ち人数」に、「1人あたりの平均サービス時間 (`1/μ`)」を掛けることで、自分の順番が来るまでの **平均待ち時間 (Tw)** を計算しているのです。

このように、各記号が「何を意味しているのか」を理解すると、公式がただの暗号ではなく、現実の事象を説明するツールとして見えてくるかと思います。


### １－２　M/M/1待ち行列の解法フロー（解く能力獲得に向けた全体像）

M/M/1待ち行列の問題を解くための、具体的な思考フローを以下に示します。

```text
１．問題文の読解
    ├─► 求めるものは何か？ (利用率ρ、待ち時間Tw、応答時間Ts？)
    └─► 与えられている情報は何か？
            ├─► 平均到着率λ (例: N件/分, N件/秒)
            └─► 平均サービス時間(1/μ) (例: M秒/件, M分/件)
                  └─► これから平均サービス率μを導出 (μ=1/(1/μ))

２．単位の統一 (次元解析の適用)
    ├─► λとμの時間単位が異なっていないか？ (例: λが「件/分」で、μが「件/秒」など)
    └─► 異なっている場合、どちらかの単位に統一する。(例: すべて「秒」に変換、またはすべて「分」に変換)

３．公式の選択と計算
    ├─► 求めるものに応じた公式を選択する。
    │    (例: 利用率ρを求めるなら ρ=λ/μ)
    │    (例: 平均待ち時間Twを求めるなら Tw=(ρ/(1-ρ))×(1/μ))
    │    (例: 平均応答時間Tsを求めるなら Ts=Tw+(1/μ))
    └─► 統一された単位の数値を公式に代入し、正確に計算する。

４．結果の確認 (次元解析による検証)
    ├─► 計算結果の数値の単位が、求めるものの単位として正しいか？ (例: Twなら「秒」や「分」になっているか)
    └─► 数値が現実的に妥当か？ (例: 利用率が1を超えていないか、待ち時間が不自然に短い/長いなど)

５．最終回答
    └─► 適切な単位で、要求された形式で解答する。
```

### １－３　一問一答（実践）

実際に上記のフローを意識して解いてみましょう。

**問題１**
あるWebサーバは、1分間に平均480件のアクセス要求を処理できます。このWebサーバには、平均して1秒に5件のアクセス要求が到着します。このWebサーバの利用率は何パーセントか。小数点以下は切り捨てて解答すること。

**回答１**
１．問題文の読解と情報抽出
    *   求めるもの: 利用率 (ρ)
    *   与えられた情報:
        *   サーバの処理能力 (平均サービス率μに相当): 1分間に480件処理可能
        *   アクセス要求の到着 (平均到着率λに相当): 1秒に5件到着

２．単位の統一
    *   μは「件/分」、λは「件/秒」で単位が異なる。
    *   すべて「秒」に統一する。
        *   μ = 480件/分 = 480件 / 60秒 = 8件/秒
        *   λ = 5件/秒 (そのまま)

３．公式の選択と計算
    *   利用率の公式: ρ = λ / μ
    *   ρ = 5 [件/秒] / 8 [件/秒] = 5/8 = 0.625

４．結果の確認
    *   ρは無次元で正しい。0.625は妥当な値。

５．最終回答
    *   0.625をパーセントに変換し、小数点以下を切り捨てる。
    *   0.625 × 100 = 62.5%
    *   小数点以下を切り捨てて **62%**

**解説１**
単位が異なる情報をいかに正確に統一するかがポイントです。ここでは「分」を「秒」に変換することで、分子と分母の単位を揃え、無次元の利用率を正確に導き出しました。

---

**問題２**
M/M/1待ち行列モデルにおいて、平均到着率が5件/分であり、平均サービス率が10件/分であるとする。このとき、1件の処理要求がシステムに到着してから処理が完了するまでの平均時間（平均応答時間）は何秒か。

**回答２**
１．問題文の読解と情報抽出
    *   求めるもの: 平均応答時間 (Ts) [秒]
    *   与えられた情報:
        *   平均到着率 (λ) = 5件/分
        *   平均サービス率 (μ) = 10件/分

２．単位の統一
    *   λとμはともに「件/分」で統一されているため、このまま計算を進める。
    *   最終的な回答は「秒」で求められているため、計算の最後に分→秒の変換を行う。
    *   平均サービス時間 (1/μ) = 1 / 10 [分/件] = 0.1 [分/件]

３．公式の選択と計算
    *   まず利用率 (ρ) を求める: ρ = λ / μ = 5 / 10 = 0.5
    *   次に平均待ち時間 (Tw) を求める: Tw = (ρ / (1 - ρ)) × (1 / μ)
        *   Tw = (0.5 / (1 - 0.5)) × 0.1
        *   Tw = (0.5 / 0.5) × 0.1
        *   Tw = 1 × 0.1 = 0.1 [分]
    *   最後に平均応答時間 (Ts) を求める: Ts = Tw + (1/μ)
        *   Ts = 0.1 [分] + 0.1 [分] = 0.2 [分]

４．結果の確認と単位変換
    *   Ts = 0.2 [分] を秒に変換する。
    *   0.2分 × 60秒/分 = 12秒

５．最終回答
    *   **12秒**

**解説２**
複数の公式を段階的に適用し、最終的に求められている単位（秒）に変換する能力が問われます。計算途中で単位が「分」のままであることに注意し、最終段階で忘れずに変換することが重要です。

---

### １－４　要約（3行以内）

M/M/1待ち行列の解法には、公式暗記、単位統一の次元解析、問題文からの情報抽出と適切な公式選択、正確な計算、そして応用問題への対応力が必要です。過去問演習と誤答分析を通じて、これらの能力を体系的に習得します。

### １－５　次アクション（復習間隔と演習提案）

M/M/1待ち行列の問題を「解く能力」を定着させるため、以下の行動を実践してください。

*   **復習間隔**: 本日行ったM/M/1待ち行列の解法フローを、明日の朝、3日後、1週間後に頭の中でシミュレーションし、公式と手順を口に出して確認してください。
*   **演習提案**:
    1.  **IPAの過去問題**から、M/M/1待ち行列に関する問題を最低5問選び出し、上記の「解法フロー」を紙に書き出しながら丁寧に解いてください。特に、問題文のどの部分がλ、μ、求めるものに該当するかを色ペンなどで印をつけながら解くと効果的です。
    2.  解き終わったら、**自己採点と誤答分析**を徹底してください。
        *   どのステップ（情報抽出、単位変換、公式選択、計算、単位変換忘れ）で間違えたのかを具体的に特定し、ノートに記録してください。
        *   特に計算ミスが多い場合は、簡単な四則演算や分数計算の練習を追加してください。






### １－５　代表例（正答例・誤答例）

**問題**: あるシステムにおいて、1分間に平均4件の処理要求が到着し、1件の処理に平均10秒かかるものとします。このシステムの利用率と平均応答時間を求めなさい。

**考え方**:
1.  単位を揃える（今回は「分」に統一）。
2.  λとμを特定する。
3.  公式に当てはめて計算する。

**正答例**:
1.  **平均到着率 (λ)**: 1分間に4件到着するので、λ = 4 [件/分]
2.  **平均サービス時間**: 1件の処理に平均10秒かかる。これを分に変換すると 10秒 = 10/60分 = 1/6分。
3.  **平均サービス率 (μ)**: μ = 1 / (平均サービス時間) = 1 / (1/6分) = 6 [件/分]
4.  **利用率 (ρ)**: ρ = λ / μ = 4 / 6 = 2/3 (約0.67)
5.  **平均待ち時間 (Tw)**: Tw = (ρ / (1 - ρ)) × (1 / μ)
    Tw = ((2/3) / (1 - 2/3)) × (1 / 6)
    Tw = ((2/3) / (1/3)) × (1 / 6)
    Tw = 2 × (1 / 6) = 1/3 [分]
    これを秒に変換すると 1/3分 = 20秒。
6.  **平均応答時間 (Ts)**: Ts = Tw + (1 / μ)
    Ts = 1/3 [分] + 1/6 [分] = 2/6 [分] + 1/6 [分] = 3/6 [分] = 1/2 [分]
    これを秒に変換すると 1/2分 = 30秒。

**正答**:
*   利用率 (ρ): 約0.67 (または 2/3)
*   平均応答時間 (Ts): 30秒 (または 0.5分)

**誤答例とよくある間違い**:
*   **単位変換のミス**: 平均サービス時間を秒のまま計算してμを求めてしまうと、単位が不揃いになり誤った結果となります。
    *   誤：μ = 1 / 10秒 = 0.1 [件/秒] と計算し、λが「件/分」のまま計算を進める。
*   **平均待ち時間と平均応答時間の混同**: サービス時間を含めるか否かの区別を誤る。
    *   Twを求めるべきところでTsを求める、あるいはその逆。

### １－６　よくある誤解と対処

*   **誤解**: 「平均到着率が平均サービス率より小さければ、待ち行列は発生しない。」
    *   **対処**: これは誤解です。M/M/1モデルでは、到着とサービスがランダムなため、一時的に到着が集中したり、処理に時間がかかったりすることで、たとえ平均サービス率が平均到着率を上回っていても（μ > λ）、待ち行列は必ず発生します。待ち行列は発生しますが、安定して無限に長くなることはありません。利用率ρ < 1であれば、理論的には待ち行列の長さは有限に収束します。
*   **誤解**: 「利用率が倍になれば、待ち時間も倍になる。」
    *   **対処**: これも誤解です。利用率が1に近づくにつれて、平均待ち時間は非線形（指数関数的）に増加します。例えば、利用率が0.5から0.8に増加すると、待ち時間は数倍に跳ね上がる可能性があります。この非線形な挙動を理解しておくことが重要です。

### １－７　一問一答

**問題１**
あるシステムのサーバーは、平均して1秒に5件の処理要求をサービスできます。このサーバーへの処理要求の到着は、平均して1秒に4件です。このサーバーの利用率として、最も適切なものはどれか。

**回答１**
利用率 (ρ) = 平均到着率 (λ) / 平均サービス率 (μ)
λ = 4 [件/秒]
μ = 5 [件/秒]
ρ = 4 / 5 = 0.8
**正解：0.8**

**解説１**
利用率は、サービス窓口がどれだけ忙しいかを示す割合です。到着率とサービス率が同じ単位（この場合は件/秒）で与えられているため、直接公式に当てはめるだけで計算できます。利用率が0.8ということは、サーバーの時間の80%は処理に費やされていることを意味します。

---

**問題２**
M/M/1待ち行列モデルにおいて、平均サービス時間が10秒であり、システムの利用率が0.5であるとき、平均待ち時間（サービス開始までの待ち時間）は何秒か。

**回答２**
平均サービス時間 = 10秒 より、平均サービス率 (μ) = 1 / 10 [件/秒] = 0.1 [件/秒]。
利用率 (ρ) = 0.5
平均待ち時間 (Tw) = (ρ / (1 - ρ)) × (1 / μ)
Tw = (0.5 / (1 - 0.5)) × 10
Tw = (0.5 / 0.5) × 10
Tw = 1 × 10 = 10 [秒]
**正解：10秒**

**解説２**
平均待ち時間は、サービスを受けるために要求が待機している時間の平均です。公式に平均サービス時間と利用率を代入して計算します。この場合、利用率が0.5であるため、平均待ち時間が平均サービス時間と等しくなるという特徴的なケースです。

---

**問題３**
M/M/1待ち行列モデルにおいて、システムの利用率を0.4から0.8に増加させると、平均待ち時間はおおよそ何倍になるか。

**回答３**
平均待ち時間 (Tw) = (ρ / (1 - ρ)) × (1 / μ) において、(1 / μ) は定数です。
利用率が0.4のときの待ち時間の比率: Tw_old_ratio = 0.4 / (1 - 0.4) = 0.4 / 0.6 = 2/3
利用率が0.8のときの待ち時間の比率: Tw_new_ratio = 0.8 / (1 - 0.8) = 0.8 / 0.2 = 4
倍率 = Tw_new_ratio / Tw_old_ratio = 4 / (2/3) = 4 × (3/2) = 6
**正解：約6倍**

**解説３**
この問題は、利用率のわずかな変化が待ち時間に大きな影響を与えることを理解しているかを確認するものです。平均サービス時間 (1/μ) は両方のケースで共通であるため、(ρ / (1 - ρ)) の部分の比率を計算することで倍率を求められます。利用率が0.4から0.8への増加は2倍ですが、平均待ち時間は約6倍に増加します。これは、利用率が1に近づくにつれて待ち時間が非線形に増加するというM/M/1待ち行列の重要な特性を示しています。

### １－８　要約（3行以内）

M/M/1待ち行列モデルは、ランダムな到着とサービスを持つ単一サーバーシステムの性能を分析します。主要な公式（利用率、平均待ち時間、平均応答時間）を理解し、特に単位の統一と利用率が1に近づく際の待ち時間の非線形増加に注意して、応用情報技術者試験の問題を解くことができます。

### １－９　次アクション（復習間隔と演習提案）

本日の学習内容を確実に定着させるため、以下のアクションを推奨します。

*   **復習間隔**: 明日、3日後、1週間後、2週間後にM/M/1待ち行列の公式を見直し、それぞれの記号の意味と公式の構造を再確認してください。
*   **演習提案**: IPAが公開している過去問題集から、以下の類似問題を解いてみましょう。
    *   平成29年度秋期 午前問1
    *   令和3年度秋期 午前問2
    *   令和6年度春期 午前問2
    これらの問題を解く際には、今回学んだ「単位の統一」と「公式の正確な適用」を意識してください。特に、問題3のような「何倍になるか」を問う比率問題にも慣れておくことが重要です。
### M/M/1待ち行列とは

待ち行列理論は、銀行の窓口やスーパーのレジ、システムのサーバー処理など、何かを待つ「行列」が発生する現象を数学的に分析するための理論です。応用情報技術者試験では、ITシステムにおける処理待ちの分析によく用いられます。

M/M/1モデルの「M/M/1」は、ケンドール記法と呼ばれる待ち行列の分類方法で、それぞれ以下の意味を持ちます。

*   **最初のM（Markovian / ポアソン分布）**: 客（処理要求）の到着間隔がランダム（ポアソン分布）であること。
*   **次のM（Markovian / 指数分布）**: 窓口（サーバー）のサービス時間（処理時間）がランダム（指数分布）であること。
*   **1（窓口数）**: サービスを提供する窓口（サーバー）が1つであること。

ざっくり言うと、「お客さんの到着もサービスの処理時間もランダムで、窓口は一つ」という状況を想定したモデルです。

### M/M/1待ち行列の重要用語と公式

応用情報技術者試験の待ち行列の問題を解くには、以下の用語と公式をしっかりと理解し、覚えることが重要です。公式の導出自体は非常に複雑なため、覚えるべきは公式とその各要素が何を意味するかです。

1.  **平均到着率 (λ: ラムダ)**
    *   単位時間あたりに到着する客（処理要求）の平均数です。例えば「1分間に5件の処理要求」などと表されます。
    *   **平均到着間隔**: 1 / λ で求められます。

2.  **平均サービス率 (μ: ミュー)**
    *   単位時間あたりに窓口（サーバー）が処理できる客の平均数です。例えば「1分間に6件の処理が可能」などと表されます。
    *   **平均サービス時間**: 1 / μ で求められます。1人の客に対するサービス時間の平均です。

3.  **利用率 (ρ: ロー)**
    *   窓口（サーバー）がサービスを提供している時間の割合です。
        窓口がどれだけ忙しいかを示す値で、0から1の間の値を取ります。
    *   **公式**: ρ = λ / μ
    *   利用率が1に近づくほど、待ち行列は長くなります。

4.  **平均待ち時間 (Tw)**
    *   客が到着してから、サービスが開始されるまでの平均時間です（サービスを受けている時間は含まない）。
    *   **公式**:
         Tw = (ρ / (1 - ρ)) × (1 / μ) または
         Tw = (ρ / (1 - ρ)) × 平均サービス時間

5.  **平均応答時間 (Ts)**
    *   客が到着してから、サービスが完了するまでの平均時間です。これは平均待ち時間と平均サービス時間の合計です。
    *   **公式**: Ts = Tw + (1 / μ) または
                  Ts = Tw + 平均サービス時間

**なぜ、サービス率が到着率より大きくても待ち行列が発生するのか？**
平均サービス率が平均到着率よりも大きい（μ > λ）場合でも、待ち行列は発生します。
これは、到着やサービスが「ランダム」であるためです。
一時的に到着が集中したり、サービスに時間がかかったりすると、一時的に待ちが発生するからです。

### 応用情報技術者試験での問題の解き方

応用情報技術者試験の待ち行列問題は、主に上記の公式を使って計算させるものがほとんどです。

1.  **問題文の情報を正確に読み取る**:
    *   「単位時間あたりに何件到着するか」が平均到着率 (λ) です。
    *   「1件の処理に平均何秒かかるか」が平均サービス時間で、
         その逆数が平均サービス率 (μ) です。
    *   単位（秒、分、時間など）を必ず確認し、統一して計算することが重要です。

2.  **求めるものを明確にする**:
    *   利用率を求められているのか？
    *   平均待ち時間を求められているのか？
    *   平均応答時間を求められているのか？
    *   問われている内容に合わせて、適切な公式を選択します。

3.  **公式に当てはめて計算する**:
    *   特に、利用率 (ρ) が 0.5 を超えると、平均待ち時間 (Tw) が急激に増加する傾向があります。この特性を理解しているか問われることもあります。
    *   過去問では、利用率が変化したときに平均待ち時間が何倍になるか、といった応用的な問題も出題されています。

**例題へのアプローチ（過去問例）**

例えば、「窓口の利用率が25%から40%に増えると、平均待ち時間は何倍になるか」という問題（令和6年度春期 午前問2、令和3年度秋期 午前問2などの過去問に類似）が出題されることがあります。
このような問題では、以下のステップで考えます。

1.  **現在の利用率 (ρ1 = 0.25) での平均待ち時間 (Tw1) を、公式を使って表現します。**
    Tw1 = (0.25 / (1 - 0.25)) × 平均サービス時間
        = (0.25 / 0.75) × 平均サービス時間 
        = (1/3) × 平均サービス時間
2.  **変更後の利用率 (ρ2 = 0.40) での平均待ち時間 (Tw2) を、同様に表現します。**
    Tw2 = (0.40 / (1 - 0.40)) × 平均サービス時間 
        = (0.40 / 0.60) × 平均サービス時間 
        = (2/3) × 平均サービス時間
3.  **Tw2 が Tw1 の何倍かを計算します。**
    Tw2 / Tw1
    = ((2/3) × 平均サービス時間) / ((1/3) × 平均サービス時間)
    = (2/3) / (1/3) = 2倍

このように、具体的な数値計算だけでなく、比率の変化を問う問題にも対応できるように、公式の構造を理解しておくことが大切です。

### 学習のポイント

*   **用語と公式の暗記**: まずは基本となる用語（平均到着率、平均サービス率、利用率、平均待ち時間、平均応答時間）とその関係性、公式を確実に覚えましょう。
*   **過去問演習**: 実際に過去問を解いて、問題文の読み方や、数値を公式に当てはめる練習を繰り返しましょう。IPAの過去問サイトや、市販の参考書・問題集を利用すると良いでしょう。
*   **単位の確認**: 時間の単位（秒、分、時間）が混在していないか、常に注意してください。


