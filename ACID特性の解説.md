ACID特性に関する問題集（応用情報技術者試験準拠）

本資料は、ACID特性（Atomicity, Consistency, Isolation, Durability）に関する理解を深めることを目的とした問題集です。問題、選択肢、正答、解説の順に体系的に整理されています。


問題 1
トランザクションの原子性に関する記述として適切なものはどれか。

ア．トランザクションが途中で中断された場合でも、その処理結果の一部は反映されることがある。
イ．トランザクションは、処理内容を分割して部分的にコミットできる。
ウ．トランザクション内のすべての処理が成功するか、すべて失敗して元の状態に戻る。
エ．トランザクションは、他のトランザクションと並行して実行されるため、途中結果が反映されることがある。

✅ 正答：ウ

解説：原子性（Atomicity）は、「すべて実行される」か「まったく実行されない」のいずれかという性質を指します。部分的な実行や中途半端な状態の反映は許されません。


問題 2
整合性に関する説明として最も適切なものはどれか。

ア．トランザクションが完了すると、すべてのデータは初期状態に戻る。
イ．トランザクション実行中に不整合が発生しても、最後にコミットすれば整合性が保証される。
ウ．トランザクションが開始前後で、データベースが定義された制約を常に満たすようにする。
エ．整合性はデータベース全体の可用性を指し、トランザクションとは無関係である。

✅ 正答：ウ

解説：整合性（Consistency）は、トランザクションが実行される前後で、データベースが定義された制約条件（例えば、主キーの一意性、外部キーによる参照整合性、NULLを許容しないカラムへの値の挿入、あるいはビジネスロジックで定められた特定のルールなど）を常に満たしている状態を保証する性質です。これにより、データが矛盾なく、ビジネス上のルールに沿った状態に保たれます。トランザクションが成功すれば、データベースは新しい整合性の取れた状態に遷移し、失敗した場合は元の整合性の取れた状態に戻ります。




ACID特性の定義と着眼点

**Atomicity（原子性）**

*   **定義:** 
トランザクションは、一連の処理の集合体であり、そのすべてが成功するか、あるいは一つも成功しないかのどちらかである、という性質です。「すべて実行されるか、まったく実行されないか」という「 all or nothing 」の原則を守ります。
*   **着眼点/具体例:** 
例えば、銀行口座間の送金処理を考えます。A口座からB口座へ1000円を送金する場合、A口座からの引き落とし（成功）とB口座への預け入れ（成功）の両方が完了するか、どちらも実行されないかのどちらかである必要があります。もしA口座からの引き落としは成功したが、B口座への預け入れが失敗した場合、システムは自動的にA口座からの引き落としを取り消し、元の状態に戻します。これにより、データの一貫性が保たれます。

**Consistency（一貫性）**

*   **定義:** 
トランザクションが実行される前後で、データベースが定義された整合性制約（例えば、主キーの一意性、外部キーによる参照整合性、NULLを許容しないカラムへの値の挿入、あるいはビジネスロジックで定められた特定のルールなど）を常に満たしている状態を保証する性質です。これにより、データが矛盾なく、ビジネス上のルールに沿った状態に保たれます。
*   **着眼点/具体例:** 
銀行口座の残高がマイナスにならないというルールがあるとします。あるトランザクションで、残高が1000円の口座から2000円を引き出そうとした場合、整合性制約（残高はマイナスにならない）に違反するため、このトランザクションは失敗し、データベースの状態は変更されません。もしトランザクションが成功した場合（例えば、残高が3000円の口座から1000円を引き出す場合）、引き落とし後の残高は2000円となり、整合性制約を満たします。

**Isolation（独立性）**

*   **定義:** 
複数のトランザクションが同時に実行される場合でも、各トランザクションは他のトランザクションの途中結果に影響を受けず、あたかも単独で実行されているかのように振る舞う性質です。これにより、並行処理によるデータの不整合や競合を防ぎます。
*   **着眼点/具体例:** 
複数の営業担当者が同時に同じ商品の在庫を確認し、購入しようとする状況を考えます。もし独立性が保たれていないと、一人の担当者が在庫を確保したにも関わらず、別の担当者がその在庫をまだ利用可能だと認識してしまう可能性があります。独立性により、あるトランザクションが在庫を更新している間、他のトランザクションはその更新が完了するまで待機するか、あるいは更新前の状態を参照するように制御されます。

**Durability（耐久性）**

*   **定義:** 
一度コミットされたトランザクションの結果は、システム障害（停電、ハードウェア故障など）が発生しても失われることなく、永続的にデータベースに保存される性質です。
*   **着眼点/具体例:** 
銀行振込が正常に完了し、コミットされた後、システムに予期せぬ障害が発生した場合でも、その振込結果（例えば、送金元口座からの引き落としと送金先口座への入金）は失われず、システム復旧後も確実に反映されている必要があります。耐久性がなければ、障害発生時にコミットされたはずの取引が失われ、データが不整合な状態になる可能性があります。
